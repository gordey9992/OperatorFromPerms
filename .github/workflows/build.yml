name: üèóÔ∏è –°–±–æ—Ä–∫–∞ OperatorFromPerms

on:
  push:
    branches: [ "–≥–ª–∞–≤–Ω–∞—è", "–æ—Å–Ω–æ–≤–Ω–∞—è", "—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞" ]
  pull_request:
    branches: [ "–≥–ª–∞–≤–Ω–∞—è", "–æ—Å–Ω–æ–≤–Ω–∞—è" ]
  workflow_dispatch:
    inputs:
      —Ç–∏–ø_—Å–±–æ—Ä–∫–∏:
        description: '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–±–æ—Ä–∫–∏'
        required: true
        default: '—Ä–µ–ª–∏–∑'
        type: choice
        options:
        - '—Ä–µ–ª–∏–∑'
        - '—Ç–µ—Å—Ç'
        - '—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞'

env:
  –ù–ê–ó–í–ê–ù–ò–ï_–ü–õ–ê–ì–ò–ù–ê: 'OperatorFromPerms'
  –í–ï–†–°–ò–Ø_JAVA: '21'
  –í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê: '2.0.0'

jobs:
  –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
    name: üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–±–æ—Ä–∫–µ
    runs-on: ubuntu-latest
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
      uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–±–æ—Ä–∫–µ
      run: |
        echo "=== –ù–ê–ß–ê–õ–û –°–ë–û–†–ö–ò ==="
        echo "üì¶ –ü–ª–∞–≥–∏–Ω: ${{ env.–ù–ê–ó–í–ê–ù–ò–ï_–ü–õ–ê–ì–ò–ù–ê }}"
        echo "üî¢ –í–µ—Ä—Å–∏—è: ${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}"
        echo "‚òï Java: ${{ env.–í–ï–†–°–ò–Ø_JAVA }}"
        echo "üè∑Ô∏è –ö–æ–º–º–∏—Ç: ${{ github.sha }}"
        echo "üéØ –í–µ—Ç–∫–∞: ${{ github.ref }}"
        echo "üë§ –ó–∞–ø—É—Å—Ç–∏–ª: ${{ github.actor }}"
        echo "üìÖ –í—Ä–µ–º—è: $(date)"
        echo "===================="

  –ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
    name: üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
    runs-on: ubuntu-latest
    needs: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
      uses: actions/checkout@v4

    - name: üìÅ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
      run: |
        echo "üîç –ü–†–û–í–ï–†–ö–ê –°–¢–†–£–ö–¢–£–†–´ –ü–†–û–ï–ö–¢–ê"
        echo "=============================="
        
        # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
        –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï_–§–ê–ô–õ–´=(
          "pom.xml"
          "src/main/resources/plugin.yml"
          "src/main/resources/config.yml" 
          "src/main/resources/messages.yml"
          "LICENSE"
          "README.md"
        )
        
        for —Ñ–∞–π–ª in "${–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï_–§–ê–ô–õ–´[@]}"; do
          if [ -f "$—Ñ–∞–π–ª" ]; then
            echo "‚úÖ $—Ñ–∞–π–ª - –Ω–∞–π–¥–µ–Ω"
          else
            echo "‚ùå $—Ñ–∞–π–ª - –û–¢–°–£–¢–°–¢–í–£–ï–¢"
            exit 1
          fi
        done
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
        echo ""
        echo "üì¶ –ü–†–û–í–ï–†–ö–ê –ò–°–•–û–î–ù–û–ì–û –ö–û–î–ê"
        echo "=========================="
        
        if [ -d "src/main/java/com/gordey9992/operatorfromperms" ]; then
          –ö–û–õ–ò–ß–ï–°–¢–í–û_JAVA=$(find src/main/java/com/gordey9992/operatorfromperms -name "*.java" | wc -l)
          echo "‚úÖ –ü–∞–ø–∫–∞ —Å –∫–æ–¥–æ–º –Ω–∞–π–¥–µ–Ω–∞"
          echo "üìÅ Java —Ñ–∞–π–ª–æ–≤: $–ö–û–õ–ò–ß–ï–°–¢–í–û_JAVA"
          
          # –°–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
          echo "üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:"
          find src/main/java/com/gordey9992/operatorfromperms -name "*.java" -exec basename {} \; | while read –∫–ª–∞—Å—Å; do
            echo "   üìÑ $–∫–ª–∞—Å—Å"
          done
        else
          echo "‚ùå –ü–∞–ø–∫–∞ —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
          exit 1
        fi
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
        echo ""
        echo "üé® –ü–†–û–í–ï–†–ö–ê –†–ï–°–£–†–°–û–í"
        echo "==================="
        –ö–û–õ–ò–ß–ï–°–¢–í–û_YAML=$(find src/main/resources -name "*.yml" | wc -l)
        echo "üìÑ YAML —Ñ–∞–π–ª–æ–≤: $–ö–û–õ–ò–ß–ï–°–¢–í–û_YAML"
        
        echo ""
        echo "üéâ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê –í –ü–û–†–Ø–î–ö–ï!"

  —É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
    name: üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    runs-on: ubuntu-latest
    needs: –ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
      uses: actions/checkout@v4

    - name: ‚òï –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java ${{ env.–í–ï–†–°–ò–Ø_JAVA }}
      uses: actions/setup-java@v4
      with:
        java-version: ${{ env.–í–ï–†–°–ò–Ø_JAVA }}
        distribution: 'temurin'
        cache: 'maven'

    - name: üßπ –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–±–æ—Ä–∫–∏
      run: mvn -B clean

    - name: üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Maven
      run: mvn -B dependency:resolve

    - name: üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
      run: |
        echo "üì¶ –ó–ê–í–ò–°–ò–ú–û–°–¢–ò –ü–†–û–ï–ö–¢–ê"
        echo "===================="
        mvn -B dependency:tree | grep -E "(\[INFO\]|\.jar)" | head -20

  –∫–æ–º–ø–∏–ª—è—Ü–∏—è:
    name: ‚öôÔ∏è –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–¥–∞
    runs-on: ubuntu-latest
    needs: —É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
      uses: actions/checkout@v4

    - name: ‚òï –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java
      uses: actions/setup-java@v4
      with:
        java-version: ${{ env.–í–ï–†–°–ò–Ø_JAVA }}
        distribution: 'temurin'

    - name: üî® –ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å Java –∫–æ–¥
      run: mvn -B compile

    - name: ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é
      run: |
        echo "üîç –ü–†–û–í–ï–†–ö–ê –ö–û–ú–ü–ò–õ–Ø–¶–ò–ò"
        if [ -d "target/classes" ]; then
          –ö–û–õ–ò–ß–ï–°–¢–í–û_–ö–õ–ê–°–°–û–í=$(find target/classes -name "*.class" | wc -l)
          echo "‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞"
          echo "üìÅ –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤: $–ö–û–õ–ò–ß–ï–°–¢–í–û_–ö–õ–ê–°–°–û–í"
        else
          echo "‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏"
          exit 1
        fi

  —Å–±–æ—Ä–∫–∞:
    name: üèóÔ∏è –°–±–æ—Ä–∫–∞ JAR —Ñ–∞–π–ª–∞
    runs-on: ubuntu-latest
    needs: –∫–æ–º–ø–∏–ª—è—Ü–∏—è
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
      uses: actions/checkout@v4

    - name: ‚òï –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java
      uses: actions/setup-java@v4
      with:
        java-version: ${{ env.–í–ï–†–°–ò–Ø_JAVA }}
        distribution: 'temurin'

    - name: üõ†Ô∏è –°–æ–±—Ä–∞—Ç—å JAR —Ñ–∞–π–ª
      run: mvn -B clean package -DskipTests

    - name: üìè –ê–Ω–∞–ª–∏–∑ —Å–±–æ—Ä–∫–∏
      run: |
        echo "üìä –ê–ù–ê–õ–ò–ó –°–û–ë–†–ê–ù–ù–û–ì–û JAR"
        echo "========================"
        
        JAR_–§–ê–ô–õ=$(find target -name "*.jar" ! -name "*-javadoc.jar" ! -name "original-*.jar" | head -1)
        
        if [ -f "$JAR_–§–ê–ô–õ" ]; then
          echo "‚úÖ JAR —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω: $(basename $JAR_–§–ê–ô–õ)"
          echo "üíæ –†–∞–∑–º–µ—Ä: $(du -h "$JAR_–§–ê–ô–õ" | cut -f1)"
          echo "üîç MD5: $(md5sum "$JAR_–§–ê–ô–õ" | cut -d' ' -f1)"
          
          echo ""
          echo "üìù –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ü–õ–ê–ì–ò–ù–ï:"
          echo "========================"
          unzip -p "$JAR_–§–ê–ô–õ" plugin.yml | while read —Å—Ç—Ä–æ–∫–∞; do
            echo "   $—Å—Ç—Ä–æ–∫–∞"
          done
        else
          echo "‚ùå JAR —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
          exit 1
        fi

  –ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–∞—á–µ—Å—Ç–≤–∞:
    name: ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞
    runs-on: ubuntu-latest
    needs: —Å–±–æ—Ä–∫–∞
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
      uses: actions/checkout@v4

    - name: üîç –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
      run: |
        echo "‚úÖ –ö–û–ù–¢–†–û–õ–¨ –ö–ê–ß–ï–°–¢–í–ê –ö–û–î–ê"
        echo "========================"
        
        echo "üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:"
        echo "============="
        JAVA_–§–ê–ô–õ–û–í=$(find src/main/java -name "*.java" | wc -l)
        YAML_–§–ê–ô–õ–û–í=$(find src/main/resources -name "*.yml" | wc -l)
        echo "üìÅ Java —Ñ–∞–π–ª–æ–≤: $JAVA_–§–ê–ô–õ–û–í"
        echo "üìÑ YAML —Ñ–∞–π–ª–æ–≤: $YAML_–§–ê–ô–õ–û–í"
        
        echo ""
        echo "üîé –ü–†–û–í–ï–†–ö–ê –°–¢–ò–õ–Ø:"
        echo "================="
        
        # –ü–æ–∏—Å–∫ TODO –∏ FIXME
        echo "üìã –ù–ê–ô–î–ï–ù–´ TODO/FIXME:"
        find src/main/java -name "*.java" -exec grep -l "TODO\|FIXME" {} \; | while read —Ñ–∞–π–ª; do
          echo "   ‚ö†Ô∏è  $(basename $—Ñ–∞–π–ª)"
        done
        
        echo ""
        echo "üîß –ü–†–û–í–ï–†–ö–ê –°–ò–ù–¢–ê–ö–°–ò–°–ê:"
        echo "======================"
        mvn -B compile > /dev/null 2>&1 && echo "‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å Java –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω" || echo "‚ùå –û—à–∏–±–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞"

  —Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:
    name: üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
    runs-on: ubuntu-latest
    needs: [—Å–±–æ—Ä–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–∞—á–µ—Å—Ç–≤–∞]
    
    steps:
    - name: üì• –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥
      uses: actions/checkout@v4

    - name: ‚òï –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Java
      uses: actions/setup-java@v4
      with:
        java-version: ${{ env.–í–ï–†–°–ò–Ø_JAVA }}
        distribution: 'temurin'

    - name: üèóÔ∏è –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
      run: mvn -B clean package -DskipTests

    - name: üìÅ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
      run: |
        echo "üì¶ –ü–û–î–ì–û–¢–û–í–ö–ê –ê–†–¢–ï–§–ê–ö–¢–û–í"
        echo "========================"
        
        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
        mkdir -p –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
        echo "‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ '–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã'"
        
        # –ö–æ–ø–∏—Ä—É–µ–º JAR —Ñ–∞–π–ª
        JAR_–§–ê–ô–õ=$(find target -name "*.jar" ! -name "*-javadoc.jar" ! -name "original-*.jar" | head -1)
        cp "$JAR_–§–ê–ô–õ" –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/
        echo "‚úÖ JAR —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: $(basename $JAR_–§–ê–ô–õ)"
        
        # –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
        cp src/main/resources/*.yml –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/ 2>/dev/null || echo "‚ÑπÔ∏è –ö–æ–Ω—Ñ–∏–≥–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã"
        echo "‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã"
        
        # –°–æ–∑–¥–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–±–æ—Ä–∫–µ
        cat > –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.txt << EOF
üèóÔ∏è OperatorFromPerms - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–±–æ—Ä–∫–µ
==========================================

üìä –û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ: ${{ env.–ù–ê–ó–í–ê–ù–ò–ï_–ü–õ–ê–ì–ò–ù–ê }}
‚Ä¢ –í–µ—Ä—Å–∏—è: ${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}
‚Ä¢ –°–±–æ—Ä–∫–∞: #${{ github.run_number }}
‚Ä¢ –ö–æ–º–º–∏—Ç: ${{ github.sha }}
‚Ä¢ –í–µ—Ç–∫–∞: ${{ github.ref_name }}
‚Ä¢ –î–∞—Ç–∞: $(date)

üì¶ –°–û–î–ï–†–ñ–ò–ú–û–ï:
‚Ä¢ $(basename $JAR_–§–ê–ô–õ) - —Å–æ–±—Ä–∞–Ω–Ω—ã–π –ø–ª–∞–≥–∏–Ω
‚Ä¢ config.yml - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚Ä¢ messages.yml - —Å–æ–æ–±—â–µ–Ω–∏—è
‚Ä¢ plugin.yml - –æ–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞

üöÄ –£–°–¢–ê–ù–û–í–ö–ê:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ JAR —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É plugins/
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥–∏ –≤ plugins/OperatorFromPerms/

üéØ –ö–û–ú–ê–ù–î–´:
‚Ä¢ /opf reload - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏
‚Ä¢ /opf check <–∏–≥—Ä–æ–∫> - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
‚Ä¢ /—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ
‚Ä¢ /–ª–æ–≥–∏–Ω - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

üë• –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ò:
‚Ä¢ gordey25690
‚Ä¢ DeepSeek
‚Ä¢ –° –∏–¥–µ–µ–π –æ—Ç –ö–æ—à–∞—Ä–∞ 3000 üê±

üìÑ –õ–ò–¶–ï–ù–ó–ò–Ø: MIT
EOF
        echo "‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–±–æ—Ä–∫–µ —Å–æ–∑–¥–∞–Ω–∞"
        
        # –°–æ–∑–¥–∞–µ–º –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
        cat > –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç.txt << EOF
üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

1. –£–°–¢–ê–ù–û–í–ö–ê:
   üì• –ü–æ–º–µ—Å—Ç–∏—Ç–µ JAR –≤ plugins/
   üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

2. –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø:
   üìù /—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è <–ø–∞—Ä–æ–ª—å> <–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ>
   üîë /–ª–æ–≥–∏–Ω <–ø–∞—Ä–æ–ª—å>
   üíæ /–∑–∞–ø–æ–º–Ω–∏—Ç—å - –Ω–∞ 24 —á–∞—Å–∞

3. –û–ü–ï–†–ê–¢–û–†:
   üëë /lp user <–∏–≥—Ä–æ–∫> permission set operatorfromperms.all true

üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞: https://github.com/gordey9992/OperatorFromPerms
EOF
        echo "‚úÖ –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞"
        
        echo ""
        echo "üìã –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê:"
        echo "====================="
        echo "üìÅ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ '–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã':"
        ls -la –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/
        echo ""
        echo "üìè –†–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤:"
        du -h –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/*

    - name: üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
      uses: actions/upload-artifact@v4
      with:
        name: OperatorFromPerms-v${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}-${{ github.run_number }}
        path: –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/
        retention-days: 30
        overwrite: true

  —Å–æ–∑–¥–∞–Ω–∏–µ-—Ä–µ–ª–∏–∑–∞:
    name: üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞
    runs-on: ubuntu-latest
    needs: —Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
    if: github.ref == 'refs/heads/–≥–ª–∞–≤–Ω–∞—è' && inputs.—Ç–∏–ø_—Å–±–æ—Ä–∫–∏ == '—Ä–µ–ª–∏–∑'
    
    steps:
    - name: üè∑Ô∏è –°–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑ GitHub
      uses: softprops/action-gh-release@v1
      with:
        files: –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/*
        generate_release_notes: true
        tag_name: v${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}-${{ github.run_number }}
        name: "OperatorFromPerms v${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}"
        body: |
          ## üéâ –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏!
          
          ### –ß—Ç–æ –Ω–æ–≤–æ–≥–æ:
          - üîê **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ "–ö–æ—à–∞—Ä–∞ 3000"**
          - üìù **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** (/reg, /—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
          - üîë **–õ–æ–≥–∏–Ω** (/login, /–ª–æ–≥–∏–Ω)  
          - üíæ **–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è** –Ω–∞ 24 —á–∞—Å–∞
          - üéØ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å LuckPerms
          
          ### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
          ```bash
          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
          /—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è <–ø–∞—Ä–æ–ª—å> <–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ>
          /–ª–æ–≥–∏–Ω <–ø–∞—Ä–æ–ª—å>
          /–∑–∞–ø–æ–º–Ω–∏—Ç—å
          
          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
          /opf reload
          /opf check <–∏–≥—Ä–æ–∫>
          
          # –ü—Ä–∞–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
          /lp user <–∏–≥—Ä–æ–∫> permission set operatorfromperms.all true
          ```
          
          ### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏:
          - gordey25690
          - DeepSeek
          - –° –∏–¥–µ–µ–π –æ—Ç –ö–æ—à–∞—Ä–∞ 3000 üê±

  –∏—Ç–æ–≥–æ–≤—ã–π-–æ—Ç—á–µ—Ç:
    name: üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
    runs-on: ubuntu-latest
    needs: [–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–º–ø–∏–ª—è—Ü–∏—è, —Å–±–æ—Ä–∫–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–∞—á–µ—Å—Ç–≤–∞, —Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤]
    if: always()
    
    steps:
    - name: üìà –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç
      run: |
        echo "# üìä –û–¢–ß–ï–¢ –û –°–ë–û–†–ö–ï #${{ github.run_number }}" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        echo "## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –í–´–ü–û–õ–ù–ï–ù–ò–Ø:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "| –≠—Ç–∞–ø | –°—Ç–∞—Ç—É—Å | –í—Ä–µ–º—è |" >> $GITHUB_STEP_SUMMARY
        echo "|------|--------|-------|" >> $GITHUB_STEP_SUMMARY
        echo "| üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ | ${{ needs.–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞.result }} | ${{ needs.–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "| üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã | ${{ needs.–ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.result }} | ${{ needs.–ø—Ä–æ–≤–µ—Ä–∫–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "| üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | ${{ needs.—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.result }} | ${{ needs.—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "| ‚öôÔ∏è –ö–æ–º–ø–∏–ª—è—Ü–∏—è | ${{ needs.–∫–æ–º–ø–∏–ª—è—Ü–∏—è.result }} | ${{ needs.–∫–æ–º–ø–∏–ª—è—Ü–∏—è.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "| üèóÔ∏è –°–±–æ—Ä–∫–∞ JAR | ${{ needs.—Å–±–æ—Ä–∫–∞.result }} | ${{ needs.—Å–±–æ—Ä–∫–∞.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "| ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ | ${{ needs.–ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–∞—á–µ—Å—Ç–≤–∞.result }} | ${{ needs.–ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–∞—á–µ—Å—Ç–≤–∞.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "| üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ | ${{ needs.—Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.result }} | ${{ needs.—Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.time }} |" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        
        if [ "${{ needs.—Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.result }}" == "success" ]; then
          echo "## üéâ –£–°–ü–ï–•!" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "**${{ env.–ù–ê–ó–í–ê–ù–ò–ï_–ü–õ–ê–ì–ò–ù–ê }} v${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}** —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω!" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### üì• –°–∫–∞—á–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:" >> $GITHUB_STEP_SUMMARY
          echo "–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Actions** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —ç—Ç—É —Å–±–æ—Ä–∫—É ‚Üí —Ä–∞–∑–¥–µ–ª **Artifacts**" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "### üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:" >> $GITHUB_STEP_SUMMARY
          echo "- üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ª–æ–≥–∏–Ω–æ–º" >> $GITHUB_STEP_SUMMARY
          echo "- üíæ –§—É–Ω–∫—Ü–∏—è '–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è' –Ω–∞ 24 —á–∞—Å–∞" >> $GITHUB_STEP_SUMMARY
          echo "- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –ø—Ä–∞–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞" >> $GITHUB_STEP_SUMMARY
          echo "- üìù –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è" >> $GITHUB_STEP_SUMMARY
        else
          echo "## ‚ùå –í–ù–ò–ú–ê–ù–ò–ï!" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏." >> $GITHUB_STEP_SUMMARY
        fi
        
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "---" >> $GITHUB_STEP_SUMMARY
        echo "*–°–æ–±—Ä–∞–Ω–æ: $(date)*" >> $GITHUB_STEP_SUMMARY

    - name: üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
      run: |
        if [ "${{ needs.—Å–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.result }}" == "success" ]; then
          echo "üéâ –°–ë–û–†–ö–ê #${{ github.run_number }} –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!"
          echo "üì¶ –ê–†–¢–ï–§–ê–ö–¢–´ –ì–û–¢–û–í–´ –ö –°–ö–ê–ß–ò–í–ê–ù–ò–Æ"
          echo "üöÄ –í–ï–†–°–ò–Ø: ${{ env.–í–ï–†–°–ò–Ø_–ü–õ–ê–ì–ò–ù–ê }}"
        else
          echo "‚ùå –°–ë–û–†–ö–ê #${{ github.run_number }} –ó–ê–í–ï–†–®–ï–ù–ê –° –û–®–ò–ë–ö–ê–ú–ò"
          echo "üîç –ü–†–û–í–ï–†–¨–¢–ï –õ–û–ì–ò –î–õ–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò"
        fi
